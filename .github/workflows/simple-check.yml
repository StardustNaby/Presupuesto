name: Simple Check

on:
  push:
    branches: [ main, master, develop ]
  pull_request:
    branches: [ main, master ]

jobs:
  check:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Verify project structure
      run: |
        echo "üîç Verificando estructura del proyecto..."
        
        # Verificar archivos esenciales
        if [ ! -f "PresupuestoFamiliarMensual.sln" ]; then
          echo "‚ùå No se encontr√≥ PresupuestoFamiliarMensual.sln"
          exit 1
        fi
        
        if [ ! -f "Dockerfile" ]; then
          echo "‚ùå No se encontr√≥ Dockerfile"
          exit 1
        fi
        
        if [ ! -f "railway.json" ]; then
          echo "‚ùå No se encontr√≥ railway.json"
          exit 1
        fi
        
        # Verificar proyecto API
        if [ ! -f "src/PresupuestoFamiliarMensual.API/PresupuestoFamiliarMensual.API.csproj" ]; then
          echo "‚ùå No se encontr√≥ el proyecto API"
          exit 1
        fi
        
        echo "‚úÖ Estructura del proyecto correcta"
        
    - name: Success
      run: |
        echo "üéâ Verificaci√≥n completada exitosamente!"
        echo "‚úÖ El proyecto est√° listo para desplegar"
        echo "üì¶ Archivos principales encontrados:"
        echo "   - PresupuestoFamiliarMensual.sln"
        echo "   - Dockerfile"
        echo "   - railway.json"
        echo "   - src/PresupuestoFamiliarMensual.API/" 